# C语言运算符优先级完整表

以下是**从高到低**的优先级顺序（1为最高，15为最低）：

## 第1级（最高）：括号、函数调用、成员访问
- `()` - 函数调用
- `[]` - 数组下标
- `.` - 结构体成员
- `->` - 结构体指针成员

## 第2级：一元运算符（右结合）
- `++` - 后缀自增
- `--` - 后缀自减
- `()` - 强制类型转换
- `sizeof` - 类型大小
- `++` - 前缀自增
- `--` - 前缀自减
- `+` - 一元正号
- `-` - 一元负号
- `!` - 逻辑非
- `~` - 位取反
- `*` - 指针解引用
- `&` - 取地址

## 第3级：乘除模（左结合）
- `*` - 乘法
- `/` - 除法
- `%` - 取模

## 第4级：加减（左结合）
- `+` - 加法
- `-` - 减法

## 第5级：移位（左结合）
- `<<` - 左移
- `>>` - 右移

## 第6级：关系（左结合）
- `<` - 小于
- `<=` - 小于等于
- `>` - 大于
- `>=` - 大于等于

## 第7级：相等（左结合）
- `==` - 等于
- `!=` - 不等于

## 第8级：位与（左结合）
- `&` - 位与

## 第9级：位异或（左结合）
- `^` - 位异或

## 第10级：位或（左结合）
- `|` - 位或

## 第11级：逻辑与（左结合）
- `&&` - 逻辑与

## 第12级：逻辑或（左结合）
- `||` - 逻辑或

## 第13级：条件（右结合）
- `? :` - 条件运算符

## 第14级：赋值（右结合）
- `=`
- `+=`
- `-=`
- `*=`
- `/=`
- `%=`
- `<<=`
- `>>=`
- `&=`
- `^=`
- `|=`

## 第15级（最低）：逗号（左结合）
- `,` - 逗号运算符

---

## 简洁记忆口诀

```
括号数组点箭头，
一元运算符跟在后。
乘除取模加减法，
移位关系与等于。
位与异或位或连，
逻辑与或分两边。
条件赋值逗号尾，
优先级序记心间。
```

或更简短的：

```
括号成员最高级，
单目乘除和加减，
移位关系位逻辑，
三目赋值逗号底。
```

---

## 快速参考表

| 优先级 | 类别 | 运算符 | 结合性 |
|--------|------|--------|--------|
| 1 | 括号/成员 | `()` `[]` `.` `->` | 左→右 |
| 2 | 一元 | `++` `--` `+(正)` `-(负)` `!` `~` `*` `&` `sizeof` `(type)` | 右←左 |
| 3 | 乘除 | `*` `/` `%` | 左→右 |
| 4 | 加减 | `+` `-` | 左→右 |
| 5 | 移位 | `<<` `>>` | 左→右 |
| 6 | 关系 | `<` `<=` `>` `>=` | 左→右 |
| 7 | 相等 | `==` `!=` | 左→右 |
| 8 | 位与 | `&` | 左→右 |
| 9 | 位异或 | `^` | 左→右 |
| 10 | 位或 | `\|` | 左→右 |
| 11 | 逻辑与 | `&&` | 左→右 |
| 12 | 逻辑或 | `\|\|` | 左→右 |
| 13 | 条件 | `? :` | 右←左 |
| 14 | 赋值 | `=` `+=` `-=` 等 | 右←左 |
| 15 | 逗号 | `,` | 左→右 |

---

## 重要示例

```c
#include <stdio.h>

int main() {
    int a = 5, b = 10, c = 15;
    
    // 常见优先级问题
    
    // 1. 算术 > 关系
    int r1 = a + b > c;      // 相当于 (a + b) > c，不是 a + (b > c)
    printf("5 + 10 > 15: %d\n", r1);  // 0
    
    // 2. 关系 > 逻辑
    int r2 = a < b && b < c; // 相当于 (a < b) && (b < c)
    printf("5 < 10 && 10 < 15: %d\n", r2);  // 1
    
    // 3. 逻辑非 > 算术
    int r3 = !a + b;         // 相当于 (!a) + b
    printf("!5 + 10: %d\n", r3);  // 10（!5=0, 0+10=10）
    
    // 4. 位运算优先级
    int r4 = a & b == 0;     // 相当于 a & (b == 0)，不是 (a & b) == 0
    printf("5 & 10 == 0: %d\n", r4);  // 0
    
    // 5. 赋值优先级很低
    int x;
    x = a = b + c;           // 相当于 x = (a = (b + c))
    printf("x = a = 10 + 15: x=%d, a=%d\n", x, a);  // 都是25
    
    // 6. 逗号优先级最低
    int y = (a = 5, b = 10, a + b);  // 括号强制先计算逗号表达式
    printf("(a=5, b=10, a+b): %d\n", y);  // 15
    
    return 0;
}
```

## 实用建议

1. **不确定时，用括号！**
   ```c
   // 不清楚优先级？加括号！
   int result = (a & b) == 0;  // 明确意图
   ```

2. **记住几个关键点：**
   - 单目运算符(如`!` `~` `++` `*` `&`) > 双目运算符
   - 算术(`+` `-` `*` `/`) > 关系(`>` `<` `==`) > 逻辑(`&&` `||`)
   - 赋值(`=`)优先级很低，几乎最低

3. **注意结合性：**
   - 大多数是左结合：`a + b + c` → `(a + b) + c`
   - 少数右结合：赋值、单目、条件：`a = b = c` → `a = (b = c)`

4. **容易出错的地方：**
   ```c
   if (a & 1 == 0)     // 错误：== 优先于 &，实际是 a & (1 == 0)
   if ((a & 1) == 0)   // 正确：检查a是否为偶数
   
   *p++                // 正确：相当于 *(p++)，不是 (*p)++
   ```

**总结**：无需死记全部，掌握规律+括号保平安即可！
